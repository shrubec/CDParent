<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>

 	<f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
          <title>Cards</title>
       </f:facet>

	<!-- Ovo je da se moze dinamicki dodati draggable komponenta, bez toga ne radi -->
	<h:outputScript name="jquery/jquery-plugins.js" library="primefaces"/>
	<h:outputScript library="js" name="script.js" />
	
	<h:outputStylesheet>
	
	 	.column1{height:auto; vertical-align:top;}
        .column2{height:auto; vertical-align:top;}
        
        .ui-widget-content {color:black;} 
        
        .ui-state-default .someCssClassName {
		    background-image: url('images/slika.jpg');
		}
		
		        
	</h:outputStylesheet>

</h:head>

<h:body>

<h:form id="mainForm">

 	 	    	<a href="designer.jsf">Designer</a>

<p:toolbar >
		<f:facet name="left">
			
			<p:outputLabel for="cardType" value="Tip kartice:" />
	        <p:selectOneMenu id="cardType" widgetVar="cardTypeSelect" value="#{acquisitionController.selectedCardTypeName}" style="width:200px;">
	        	<f:selectItem itemLabel="Odaberite" />
	            <f:selectItems value="#{acquisitionController.cardTypes}"  var="item" itemValue="#{item.name}" itemLabel="#{item.name}" />
	            <p:ajax   listener="#{acquisitionController.cardTypeSelected}" update="mainForm" />  
	        </p:selectOneMenu>
			<p:commandButton value="Nova kartica" icon="ui-icon-circle-plus"  update="mainForm"  actionListener="#{acquisitionController.newCard}" immediate="true"/>

		
		</f:facet>
		<f:facet name="right">
		</f:facet>
	</p:toolbar>


	<p:messages />

	<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="15"  columnClasses="column1,column2" >

		<p:panel id="cardPanel"  style="with:120%;float:left;" >
		
		 		<f:facet name="header">
                 	<p:commandButton value="Spremi" icon="ui-icon-circle-plus"  update="mainForm"  style="float:right;" actionListener="#{acquisitionController.saveCard}" disabled="#{acquisitionController.editPhase == false}" immediate="true"  />
                    <p:commandButton value="Ažuriraj" icon="ui-icon-circle-plus"  update="mainForm" process="@this" style="float:right;" />
                    <p:commandButton value="Obriši" icon="ui-icon-circle-plus"  update="mainForm" process="@this" style="float:right;"/>
                </f:facet> 
                    
		
				<p:outputPanel  
					id="frontSide" 
					name="frontSide" 
					layout="block" 
					style="float:left;width:400px;height:200px;border:1px solid #666666;margin-bottom:20px;margin-left:20px;	background-image: url('images/card_template1.jpg');"
				/>
				
				
				
				
				<p:outputPanel 
					id="backSide" 
					name="backSide"  
					layout="block" 
					style="float:left;width:400px;height:200px;border:1px solid #666666;margin-bottom:20px;margin-left:20px;background-image: url('images/card_template2.png');"
				/>
				
				
		
		</p:panel>

		<p:dataTable var="card" >
		    <p:column headerText="Id">
		        <h:outputText value="#{card.id}" />
		    </p:column>
		 
		    <p:column headerText="Tip kartice">
		        <h:outputText value="#{card.type}" />
		    </p:column>
		 
		   <p:column headerText="Serijski broj">
		        <h:outputText value="" />
		    </p:column>
		    
		    <p:column headerText="Datum kreiranja">
		        <h:outputText value="#{card.dateCreated}" >
		        	<f:convertDateTime pattern="dd.MM.yyyy"/>
		        </h:outputText>
		    </p:column>
		    
		     <p:column headerText="Kreirao korisnik">
		        <h:outputText value="" />
		    </p:column>
		    
		    
		 
		   
		</p:dataTable>	
		
		
		
	
	</h:panelGrid>


	<p:remoteCommand name="test" actionListener="#{acquisitionController.test}"></p:remoteCommand>


</h:form>

</h:body>
</html>