<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head />
     
    <h:body>
      <h:form id="mainForm">
      
      
      
       <h:panelGrid columns="3" style="margin-bottom:10px" cellpadding="5">
        <p:outputLabel for="cardType" value="Tip kartice:" />
        <p:selectOneMenu id="cardType" value="#{testController.selectedId}" style="width:200px;" >
            <f:selectItems value="#{testController.list}"  var="item" itemValue="#{item.id}" itemLabel="#{item.name}" />
            <p:ajax   listener="#{testController.promjena}" update="mainForm:test" process="@this"/>  
        </p:selectOneMenu>
        
        <p:commandButton value="Novi tip kartice" icon="ui-icon-circle-plus"  oncomplete="PF('newTypeDialog').show()" actionListener="#{testController.newCardType}" process="@this"/>
        
       	
       	
        
 </h:panelGrid>


 <p:inputText id="test" value="#{testController.selectedId}" />

      
       	 <p:dialog id="newTypeDialog" widgetVar="newTypeDialog" modal="true" header="Novi tip kartice" position="center center" width="400" height="100" resizable="false"  appendToBody="true">
  		<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
	   		<p:outputLabel value="Naziv: " />
			<p:inputText value="#{testController.selectedId}" required="true" requiredMessage="Naziv je obavezan	"/>
			<p:commandButton value="Spremi" icon="ui-icon-circle-save" actionListener="#{testController.saveCardType}" update="mainForm" ajax="true" process="newTypeDialog"/>
       </h:panelGrid>
  </p:dialog>
      
      </h:form>
    </h:body>
     
</html>