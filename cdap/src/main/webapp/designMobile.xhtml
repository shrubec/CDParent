<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pm="http://primefaces.org/mobile">
     
    <f:view renderKitId="PRIMEFACES_MOBILE" />
     
    <h:head>
    
    	<f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
          <title>Mobile Card Designer</title>
       </f:facet>
       
       <!-- ako je ovo ukljuceno, stil tabova je sjebani -->
<!--         <link href="resources/css/jquery-ui.css" rel="stylesheet" type="text/css" media="screen" />  -->
	  <h:outputScript library="js" name="jquery-ui.js" />
	  <h:outputScript library="js" name="jquery.ui.touch-punch.min.js" />
	  <h:outputScript library="js" name="scriptMobile.js" />
	  
	  <style>
		  #draggable { width: 150px; height: 150px; padding: 0.5em; }
	</style>

    
     <h:outputStylesheet>
	
        
        ul {
		  list-style-type: none
		}
		
		        
	</h:outputStylesheet>
    
        <style type="text/css">
            .ui-grid-a div {
                padding: 0em 0.5em;
            }
        </style>
    </h:head>

<h:body>

	<pm:page id="first">
		<pm:header title="Dizajn kartice" swatch="b"></pm:header>

		<pm:content>
			<h:form id="mainForm">
			
			
			<h:panelGrid columns="2">
			
				<h:column>
				
					<p:tabView id="mainTab" dynamic="true"  orientation="Bottom" >
				
						<p:ajax event="tabChange" listener="#{mobileDesignView.onTabChange}" />
					    <p:tab title="Prednja strana" id="tabFront"> 
		
		
									<p:outputPanel id="frontSide" name="frontSide" layout="block"
										style="width:400px;height:250px;border:1px solid #666666;margin-bottom:20px;margin-left:20px;	background-size: 100% 100%; background-image: #{mobileDesignView.backgroundImageFront};">
		
		
		
									</p:outputPanel>
		
		
					    </p:tab> 
					    <p:tab title="Stražnja strana" id="tabBack">
					    		<p:outputPanel id="backSide" name="backSide" layout="block"
										style="width:400px;height:250px;border:1px solid #666666;margin-bottom:20px;margin-left:20px;	background-size: 100% 100%; background-image: #{mobileDesignView.backgroundImageBack};">
		
		
								</p:outputPanel>
					    </p:tab>
					</p:tabView>
				
				</h:column>
				
				<h:column>
					<h:panelGrid columns="1">
						<p:button icon="ui-icon-delete" styleClass="ui-btn-inline" value="Tijelo" outcome="pm:second?transition=fade" />
						<p:commandButton value="Tekst"  icon="ui-icon-delete" styleClass="ui-btn-inline" actionListener="#{mobileDesignView.addNewCardElement(1,1)}" update="mainForm" process="@this" />
						<p:commandButton value="Slika" type="button" icon="ui-icon-delete" styleClass="ui-btn-inline" />
						<p:commandButton value="Potpis" type="button" icon="ui-icon-delete" styleClass="ui-btn-inline" />
						<p:commandButton value="Obriši" type="button" icon="ui-icon-delete" styleClass="ui-btn-inline" />
					</h:panelGrid>
				</h:column>
									
			</h:panelGrid>
			
				
			 <h:inputHidden id="selectedId" value="#{designView.selectedId}"></h:inputHidden>
			
			</h:form>
		</pm:content>
	</pm:page>

	<pm:page id="second">
		<pm:header title="Tijelo kartice" >
			<p:button outcome="pm:first" value="Povratak" icon="ui-icon-arrow-l" styleClass="ui-btn-left ui-btn-inline" />
		</pm:header>
		<pm:content>
			<p:dataScroller value="#{mobileDesignView.images}" var="image">
				<p:commandLink action="#{mobileDesignView.selectBackgroundImage}" update="@all">
					<f:param name="selectedImage" value="#{image}" />
					<h:panelGrid columns="2" style="width:100%;margin-bottom:10px" cellpadding="15">
						<p:graphicImage url="resources/images/background/#{image}" width="100" height="50" />
						<h:outputLabel value="#{image}" />
					</h:panelGrid>
				</p:commandLink>
			</p:dataScroller>
		</pm:content>
	</pm:page>
	
	
	
</h:body>

</html>